<main class="container mx-auto px-4 py-8">
  <!-- Header Section -->
  <header class="mb-8">
    <div class="flex flex-col gap-2">
      <h1 class="text-3xl font-bold tracking-tight">Settings</h1>
      <p class="text-muted-foreground">Manage your account settings and preferences</p>
    </div>
  </header>

  <!-- Settings Grid -->
  <section class="grid gap-6 lg:grid-cols-3">
    <!-- Settings Navigation -->
    <aside class="lg:col-span-1">
      <nav class="space-y-1">
        <button
          *ngFor="let tab of tabs"
          (click)="setActiveTab(tab.id)"
          [class]="'flex w-full items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors ' + (activeTab === tab.id ? 'bg-primary bg-opacity-10 text-primary' : 'text-muted-foreground hover:bg-muted hover:text-foreground')"
        >
          <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" [attr.d]="getTabIcon(tab.icon)" />
          </svg>
          {{ tab.label }}
        </button>
      </nav>
    </aside>

    <!-- Settings Content -->
    <article class="lg:col-span-2 space-y-6">
      <!-- Profile Settings -->
      <div *ngIf="activeTab === 'profile'" class="rounded-lg border bg-card p-6">
        <div class="flex items-center gap-4 mb-6">
          <figure class="relative h-20 w-20">
            <img [src]="profile.avatar" [alt]="profile.name" class="h-full w-full rounded-full object-cover" />
            <button class="absolute bottom-0 right-0 rounded-full bg-primary p-1.5 text-primary-foreground hover:bg-primary hover:bg-opacity-90">
              <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" />
              </svg>
            </button>
          </figure>
          <div>
            <h2 class="text-xl font-semibold">{{ profile.name }}</h2>
            <p class="text-sm text-muted-foreground">{{ profile.role }} â€¢ {{ profile.department }}</p>
            <p class="text-sm text-muted-foreground">Joined {{ formatDate(profile.joinDate) }}</p>
          </div>
        </div>

        <form (ngSubmit)="updateProfile(profileForm)" #profileForm="ngForm" class="space-y-6">
          <div class="space-y-2">
            <label class="text-sm font-medium leading-none" for="name">Name</label>
            <input
              id="name"
              name="name"
              [(ngModel)]="profile.name"
              class="flex h-10 w-full rounded-lg border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"
              placeholder="Enter your name"
              required
            />
          </div>

          <div class="space-y-2">
            <label class="text-sm font-medium leading-none" for="email">Email</label>
            <input
              id="email"
              name="email"
              [(ngModel)]="profile.email"
              type="email"
              class="flex h-10 w-full rounded-lg border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"
              placeholder="Enter your email"
              required
            />
          </div>

          <div class="flex justify-end">
            <button
              type="submit"
              class="inline-flex items-center justify-center rounded-lg bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary hover:bg-opacity-90"
            >
              Save Changes
            </button>
          </div>
        </form>
      </div>

      <!-- Security Settings -->
      <div *ngIf="activeTab === 'security'" class="rounded-lg border bg-card p-6">
        <h2 class="text-xl font-semibold mb-6">Security Settings</h2>

        <div class="space-y-6">
          <div class="flex items-center justify-between">
            <div>
              <h3 class="font-medium">Two-Factor Authentication</h3>
              <p class="text-sm text-muted-foreground">Add an extra layer of security to your account</p>
            </div>
            <button
              (click)="updateSecurity()"
              class="inline-flex items-center justify-center rounded-lg bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary hover:bg-opacity-90"
            >
              {{ securitySettings.twoFactorEnabled ? 'Disable' : 'Enable' }}
            </button>
          </div>

          <div class="flex items-center justify-between">
            <div>
              <h3 class="font-medium">Password</h3>
              <p class="text-sm text-muted-foreground">Last changed {{ formatDate(securitySettings.lastPasswordChange) }}</p>
            </div>
            <button
              class="inline-flex items-center justify-center rounded-lg bg-muted px-4 py-2 text-sm font-medium text-muted-foreground transition-colors hover:bg-muted hover:bg-opacity-80"
            >
              Change Password
            </button>
          </div>

        </div>
      </div>

    </article>
  </section>
</main> 